!function(e,r){"object"==typeof exports&&"undefined"!=typeof module?r(exports,require("@inertiajs/inertia"),require("react")):"function"==typeof define&&define.amd?define(["exports","@inertiajs/inertia","react"],r):r(e.InertiaReact={},e.Inertia,e.React)}(this,function(e,r,t){var n=t.createContext(),o=function(e){return e};function a(e){var a=e.children,i=e.initialPage,c=e.resolveComponent,u=e.transformProps;void 0===u&&(u=o);var p=t.useState({component:null,key:null,props:{}}),l=p[0],s=p[1];if(t.useEffect(function(){r.Inertia.init({initialPage:i,resolveComponent:c,updatePage:function(e,r,t){var n=t.preserveState;s(function(t){return{component:e,key:n?t.key:Date.now(),props:u(r)}})}})},[i,c,u]),!l.component)return t.createElement(n.Provider,{value:l.props},null);var v=a||function(e){var r=e.Component,n=t.createElement(r,Object.assign({},{key:e.key},e.props));return r.layout?r.layout(n):n};return t.createElement(n.Provider,{value:l.props},v({Component:l.component,key:l.key,props:l.props}))}a.displayName="Inertia";var i=function(){};e.InertiaApp=a,e.InertiaLink=function(e){var n=e.children,o=e.data;void 0===o&&(o={});var a=e.href,c=e.method;void 0===c&&(c="get");var u=e.onClick;void 0===u&&(u=i);var p=e.preserveScroll;void 0===p&&(p=!1);var l=e.preserveState;void 0===l&&(l=!1);var s=e.replace;void 0===s&&(s=!1);var v=e.only;void 0===v&&(v=[]);var f=function(e,r){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&-1===r.indexOf(n)&&(t[n]=e[n]);return t}(e,["children","data","href","method","onClick","preserveScroll","preserveState","replace","only"]),d=t.useCallback(function(e){u(e),r.shouldIntercept(e)&&(e.preventDefault(),r.Inertia.visit(a,{data:o,method:c,preserveScroll:p,preserveState:l,replace:s,only:v}))},[o,a,c,u,p,l,s,v]);return t.createElement("a",Object.assign({},f,{href:a,onClick:d}),n)},e.usePage=function(){var e=t.useContext(n);if(!e)throw new Error("usePage must be used within the Inertia component");return e},e.useRememberedState=function(e,n){var o=t.useState(function(){var t=r.Inertia.restore(n);return void 0!==t?t:e}),a=o[0],i=o[1];return t.useEffect(function(){r.Inertia.remember(a,n)},[a,n]),[a,i]}});
//# sourceMappingURL=index.umd.js.map
