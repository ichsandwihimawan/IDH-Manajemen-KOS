{"version":3,"file":"index.umd.js","sources":["../src/PageContext.js","../src/App.js","../src/Link.js","../src/usePage.js","../src/useRememberedState.js"],"sourcesContent":["import { createContext } from 'react'\n\nexport default createContext()\n","import { Inertia } from '@inertiajs/inertia'\nimport { createElement, useEffect, useState } from 'react'\nimport PageContext from './PageContext'\n\nconst identity = i => i\n\nexport default function App({\n  children,\n  initialPage,\n  resolveComponent,\n  transformProps = identity,\n}) {\n  const [page, setPage] = useState({\n    component: null,\n    key: null,\n    props: {},\n  })\n\n  useEffect(() => {\n    Inertia.init({\n      initialPage,\n      resolveComponent,\n      updatePage: (component, props, { preserveState }) => {\n        setPage(page => ({\n          component,\n          key: preserveState ? page.key : Date.now(),\n          props: transformProps(props),\n        }))\n      },\n    })\n  }, [initialPage, resolveComponent, transformProps])\n\n  if (!page.component) {\n    return createElement(PageContext.Provider, { value: page.props }, null)\n  }\n\n  const renderChildren = children || (({ Component, props, key }) => {\n    const child = createElement(Component, { key, ...props })\n\n    if (Component.layout) {\n      return Component.layout(child)\n    }\n\n    return child\n  })\n\n  return createElement(\n    PageContext.Provider,\n    { value: page.props },\n    renderChildren({ Component: page.component, key: page.key, props: page.props })\n  )\n}\n\nApp.displayName = 'Inertia'\n","import { Inertia, shouldIntercept } from '@inertiajs/inertia'\nimport { createElement, useCallback } from 'react'\n\nconst noop = () => undefined\n\nexport default function InertiaLink({\n  children,\n  data = {},\n  href,\n  method = 'get',\n  onClick = noop,\n  preserveScroll = false,\n  preserveState = false,\n  replace = false,\n  only = [],\n  ...props\n}) {\n  const visit = useCallback(event => {\n    onClick(event)\n\n    if (shouldIntercept(event)) {\n      event.preventDefault()\n\n      Inertia.visit(href, {\n        data,\n        method,\n        preserveScroll,\n        preserveState,\n        replace,\n        only,\n      })\n    }\n  }, [data, href, method, onClick, preserveScroll, preserveState, replace, only])\n\n  return createElement('a', { ...props, href, onClick: visit }, children)\n}\n","import { useContext } from 'react'\nimport PageContext from './PageContext'\n\nexport default function usePage() {\n  const page = useContext(PageContext)\n\n  if (!page) {\n    throw new Error('usePage must be used within the Inertia component')\n  }\n\n  return page\n}\n","import { Inertia } from '@inertiajs/inertia'\nimport { useEffect, useState } from 'react'\n\nexport default function useRememberedState(initialState, key) {\n  const [state, setState] = useState(() => {\n    const restored = Inertia.restore(key)\n\n    return restored !== undefined ? restored : initialState\n  })\n\n  useEffect(() => {\n    Inertia.remember(state, key)\n  }, [state, key])\n\n  return [state, setState]\n}\n"],"names":["createContext","identity","i","App","useState","component","key","props","useEffect","Inertia","init","initialPage","resolveComponent","updatePage","setPage","page","preserveState","Date","now","transformProps","createElement","PageContext","Provider","value","renderChildren","children","child","Component","Object","layout","displayName","const","noop","visit","useCallback","event","onClick","shouldIntercept","preventDefault","href","data","method","preserveScroll","replace","only","useContext","Error","initialState","restored","restore","undefined","remember","state","setState"],"mappings":"0RAEeA,kBCETC,WAAWC,UAAKA,GAEP,SAASC,6FAILF,SAEOG,WAAS,CAC/BC,UAAW,KACXC,IAAK,KACLC,MAAO,sBAGTC,uBACEC,UAAQC,KAAK,aACXC,mBACAC,EACAC,oBAAaR,EAAWE,2BACtBO,WAAQC,oBACNV,EACAC,IAAKU,EAAgBD,EAAKT,IAAMW,KAAKC,MACrCX,MAAOY,EAAeZ,UAI3B,CAACI,EAAaC,EAAkBO,KAE9BJ,EAAKV,iBACDe,gBAAcC,EAAYC,SAAU,CAAEC,MAAOR,EAAKR,OAAS,UAG9DiB,EAAiBC,iCACfC,EAAQN,gBAAcO,EAAWC,8CAEnCD,EAAUE,OACLF,EAAUE,OAAOH,GAGnBA,UAGFN,gBACLC,EAAYC,SACZ,CAAEC,MAAOR,EAAKR,OACdiB,EAAe,CAAEG,UAAWZ,EAAKV,UAAWC,IAAKS,EAAKT,IAAKC,MAAOQ,EAAKR,SAI3EJ,EAAI2B,YAAc,UClDlBC,IAAMC,4CAES,qDAEN,2CAEE,sCACCA,0CACO,yCACD,mCACN,+BACH,uOAGDC,EAAQC,uBAAYC,GACxBC,EAAQD,GAEJE,kBAAgBF,KAClBA,EAAMG,iBAEN7B,UAAQwB,MAAMM,EAAM,MAClBC,SACAC,iBACAC,gBACA1B,UACA2B,OACAC,MAGH,CAACJ,EAAMD,EAAME,EAAQL,EAASM,EAAgB1B,EAAe2B,EAASC,WAElExB,gBAAc,IAAKQ,iBAAKrB,QAAOgC,EAAMH,QAASH,IAASR,6BC9BxDV,EAAO8B,aAAWxB,OAEnBN,QACG,IAAI+B,MAAM,4DAGX/B,wBCPM,SAA4BgC,EAAczC,SAC7BF,0BAClB4C,EAAWvC,UAAQwC,QAAQ3C,eAEb4C,IAAbF,EAAyBA,EAAWD,yBAG7CvC,uBACEC,UAAQ0C,SAASC,EAAO9C,IACvB,CAAC8C,EAAO9C,IAEJ,CAAC8C,EAAOC"}